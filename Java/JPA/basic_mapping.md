# JPA 연관관계 매핑
- 객체는 참조(주소)를 사용해서 관계를 맺고 테이블은 외래키를 사용해서 관계를 맺는다.
- 이 둘은 완전히 다른 특징을 가진다. 객체 관계 매핑(ORM)에서 가장 어려운 부분이 바로 객체 연관관계와 테이블 연관관계를 매핑하는 일이다.

## 연관관계 핵심 키워드

### 방향(Direction)
- 단방향, 양방향
- 회원과 팀이 관계가 있을때 회원 -> 팀 또는 팀 -> 회원 둘 중 한쪽만 참조하는 것을 단방향 관계
- 회원 -> 팀, 팀 -> 회원 양쪽 모두 서로 참조하는 것을 양방향 관계
- `방향은 객체관계에만 존재하고 테이블 관계는 항상 양방향이다.`

### 다중성(Multiplicity)
- 다대일(N:1), 일대다(1:N), 일대일(1:1), 다대다(N:N)
- 회원과 팀이 관계가 있을때 여러 회원은 한 팀에 속하므로 회원과 팀은 다대일 관계
- 반대로 한팀에 여러 회원이 소속될 수 있으므로 팀과 회원은 일대다 관계

### 연관관계 주인(owner)
- 객체를 양방향 연관관계를 만들면 연관관계의 주인을 정해야 한다.


## 단방향 연관관계

```java
class A {
  B b;
}

class B {}
```

## 양방향 연관관계
- 결국 객체의 양방향은 `단방향 연관관계 2개를 만드는것`
```java
class A {
  B b;
}

class B {
   A a;
}
```

## 정리 객체 vs 테이블 연관관계
- 객체는 참조(a.getB().getC())를 사용
- 테이블은 조인(JOIN)을 사용

### 객체 연관관계는 단방향
- A -> B (a.b)
- `객체를 양방향으로 참조하려면 단방향 연관관계를 2개 만들어야 한다.`
- A -> B(a.b)
- B -> A(b.a)


### 테이블 연관관계는 양방향
- A JOIN B 가능
- B JOIN A도 가능
